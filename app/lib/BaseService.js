define("BaseService",["jquery"],function(t,e,n){var a;a=function(t){return t instanceof a?t:this instanceof a?void(this._wrapped=t):new a(t)},a.prototype={ajax:function(t){return $.ajax({type:"post",url:t.url,async:!1,data:{_method:"GET"},success:function(t){resolve(t)}})},initTree:function(t,e){t.tree&&(e.attributes.data=a.bulidTreeNode(e.attributes.data))},initSelect:function(t,e){t.select&&(e.attributes.data=Est.bulidSelectNode(e.attributes.data,1,{name:"text"}))},initExtend:function(t,e){t.extend&&(e.attributes.data=Est.extendTree(e.attributes.data))},initDefault:function(t,e){t.default&&e.attributes.data.unshift({text:"请选择",value:"/"})},factory:function(t){var e=this,n=Est.promise;return t=Est.extend({select:!1,extend:!1},t),new n(function(n){e.ajax.done(function(a){a.attributes?(e.initTree(t,a),e.initSelect(t,a),e.initExtend(t,a)):a.attributes.data=[],e.initDefault(t,a),n(a.attributes.data)})})}},n.exports=a});