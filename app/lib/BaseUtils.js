define("BaseUtils",[],function(e,t,a){var o={initSelect:function(e){var t=e.viewId||Est.nextUid("select");e=Est.extend({el:"."+t,viewId:t,data:{width:e.width||150}},e),seajs.use(["Select"],function(a){e.el="."+t,app.addPanel(t,{el:e.render,template:'<div class="select-inner '+t+'"></div>'}).addView(t,new a(e))})},initDropDown:function(e){seajs.use(["DropDown"],function(t){var a=Est.nextUid("dropDown"),o=!1;$(e.target).click(function(n){o?app.getView(a).show(n):(app.addPanel(a,{el:"body",template:'<div class="drop-down-container-'+a+'"></div>'}).addView(a,new t(Est.extend(e,{el:".drop-down-container-"+a,viewId:a,data:{width:e.width||"auto",height:e.height||"auto",overflowX:e.overflowX||"hidden"}}))),app.getView(a).show(n),o=!0)})})},initDistrict:function(e){seajs.use(["District"],function(t){app.addPanel(e.id,{el:e.render,template:'<div class="district-inner '+e.id+'"></div>'}),app.addView(e.id,new t({el:"."+e.id,viewId:e.id,target:e.render,input:e.target,path:e.path,addressUrl:e.url}))})},openUpload:function(e){return"undefined"==typeof e&&console.error("图片上传配置不能为空"),e=Est.extend({title:"上传图片",width:650,height:350,albumId:"",padding:5,username:"",attId:"",auto:!1,replace:!1,type:"local"},e),e.url=CONST.HOST+"/modules/upload/upload.html?albumId="+e.albumId+"&username="+e.username+"&replace="+(e.replace?"01":"00")+"&attId="+e.attId+"&auto="+e.auto+"&uploadType="+e.type+"&max=",e},initEditor:function(e){var t={contact:{c:"xheContact",t:"插入联系方式",e:function(){var e=this;e.showIframeModal("插入联系方式",CONST.DOMAIN+"/user_v2/enterprise/updateuser/getUserBySession",function(t){e.loadBookmark(),e.pasteHTML(t)},700,510)}},abbccMap:{c:"xheBtnMap",t:"选择Google/Baidu地圖",e:function(){var e=this;e.showIframeModal("选择Google/Baidu地圖",CONST.HOST+"/vendor/xheditor/xheditor-tools/abbcc-map/index.html",function(t){e.loadBookmark(),e.pasteHTML(t)},700,510)}},abbccLayout:{c:"xheBtnLayout",t:"选择模版",e:function(){var e=this;e.showIframeModal("选择模版",CONST.HOST+"/vendor/xheditor/xheditor-tools/abbcc-layout/index.html",function(t){e.loadBookmark(),e.pasteHTML(t)},660,500)}},abbccQrcode:{c:"xheBtnQrcode",t:"生成二维码",e:function(){var e=this;e.showIframeModal("生成二维码",CONST.HOST+"/vendor/xheditor/xheditor-tools/abbcc-qrcode/index.html",function(t){e.loadBookmark(),e.pasteHTML(t)},800,300)}},abbccImages:{c:"xheIcon xheBtnImg",t:"选择图片",s:"ctrl+8",e:function(){var e=this;e.showIframeModal("选择图片",CONST.DOMAIN+"/common/picUpload/upload.jsp?pageType=xheditor",function(t){e.loadBookmark(),e.pasteHTML(t)},800,550)}},abbccFlash:{c:"xheIcon xheBtnFlash",t:"选择flash",s:"ctrl+7",e:function(){var e=this;e.showIframeModal("选择flash","/user/album/albumshowFlashPage?pageType=xheditor",function(t){e.loadBookmark(),e.pasteHTML(t)},600,300)}},abbccQQ:{c:"xheBtnQQ",t:"选择QQ/MSN/Skype/阿里旺旺/淘宝旺旺",s:"ctrl+9",e:function(){var e=this;e.showIframeModal("选择QQ/MSN/Skype/阿里旺旺/淘宝旺旺",CONST.DOMAIN+"/user_v2/qq/index.jsp",function(t){e.loadBookmark(),e.pasteHTML(t)},600,300)}}};seajs.use(["xheditor"],function(){function a(e){$(e).xheditor({plugins:t,tools:"Preview,Fullscreen,Source,|,contact,abbccQQ,abbccMap,abbccLayout,abbccQrcode,|,Table,abbccImages,abbccFlash,Media,|,FontColor,BackColor,|,Align,Underline,Italic,Bold,|,FontSize,Fontface,|,Link,Unlink",skin:"vista",layerShadow:2,html5Upload:!1,upBtnText:"浏览",upLinkExt:"jpg,png,bmp",upImgUrl:"/fileUpload/uploadByJson",upFlashUrl:"/fileUpload/uploadByJson",upMediaUrl:"/fileUpload/uploadByJson",upFlashExt:"swf",upMediaExt:"wmv,avi,wma,mp3,mid",linkTag:!0,height:400,internalScript:!0,inlineScript:!0})}$(function(){$(e.render||".ckeditor").each(function(){a($(this))})})})},initCopy:function(e,t,a){seajs.use(["ZeroClipboard"],function(o){var n=new o($(e).get(0),{moviePath:CONST.HOST+"/swf/ZeroClipboard.swf"});n.on("ready",function(){n.on("copy",function(e){e.clipboardData.setData("text/plain",t.callback||$(e.target).attr("data-clipboard-text"))}),n.on("aftercopy",function(e){a.call(this,e.data["text/plain"]),console.log("Copied text to clipboard: "+e.data["text/plain"]),t.success&&t.success.call(this,e.data["text/plain"])})}),n.on("error",function(e){o.destroy(),t.failed&&t.failed.call(this,e.message)})})},execute:function(e){return debug("- 调用工具类方法："+e),o[e]&&o[e].apply(o,[].slice.call(arguments,1))}};a.exports=o});